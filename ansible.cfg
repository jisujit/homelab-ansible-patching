# AAP-Optimized ansible.cfg
# Settings that conflict with AAP are commented out

[defaults]
# host_key_checking = False          # Controlled by AAP Global Settings
# inventory = inventory/production.yml # Controlled by AAP Inventory Management
# forks = 10                         # Controlled by AAP Job Templates
# timeout = 30                       # Controlled by AAP Job Timeout Settings

# Ansible behavior settings (safe for AAP)
roles_path = roles
collections_path = collections
retry_files_enabled = False
stdout_callback = yaml
bin_ansible_callbacks = True
gathering = smart
fact_caching = memory
deprecation_warnings = False
display_skipped_hosts = False
display_ok_hosts = True
host_pattern_mismatch = warning
callback_whitelist = profile_tasks, timer

# Error handling
any_errors_fatal = False
max_diff_size = 1048576

[ssh_connection]
# SSH optimization (works well with AAP)
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
pipelining = True
control_path_dir = /tmp/.ansible/cp
retries = 3
timeout = 30

[privilege_escalation]
# Privilege escalation defaults
become = True
become_method = sudo
become_ask_pass = False

[inventory]
# Inventory plugin settings
enable_plugins = host_list, script, auto, yaml, ini, toml
cache = True
cache_plugin = memory
cache_timeout = 3600

[galaxy]
# Galaxy/Automation Hub configuration
server_list = automation_hub, galaxy
ignore_certs = False

[galaxy_server.automation_hub]
url = https://console.redhat.com/api/automation-hub/
auth_url = https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/token
# token = your_automation_hub_token_here  # Add when you get Red Hat subscription

[galaxy_server.galaxy]
url = https://galaxy.ansible.com/
